{
  "timestamp": "2026-02-07T13:04:16.828451",
  "system_version": "3.0 - BM25+FAISS+Reranking",
  "routing_accuracy": {
    "accuracy": 76.92307692307693,
    "correct": 10,
    "total": 13,
    "detailed_results": [
      {
        "query": "How many employees are in the database?",
        "expected": "sql",
        "predicted": "sql",
        "correct": true
      },
      {
        "query": "What is the average salary of engineers?",
        "expected": "sql",
        "predicted": "sql",
        "correct": true
      },
      {
        "query": "List all departments with their budgets",
        "expected": "sql",
        "predicted": "sql",
        "correct": true
      },
      {
        "query": "Show me total sales for last month",
        "expected": "sql",
        "predicted": "sql",
        "correct": true
      },
      {
        "query": "Count products in Electronics category",
        "expected": "sql",
        "predicted": "sql",
        "correct": true
      },
      {
        "query": "What are the action items from the meeting?",
        "expected": "document",
        "predicted": "document",
        "correct": true
      },
      {
        "query": "What budget was approved in the strategic plan?",
        "expected": "document",
        "predicted": "sql",
        "correct": false
      },
      {
        "query": "Summarize the performance review document",
        "expected": "document",
        "predicted": "document",
        "correct": true
      },
      {
        "query": "What's the status distribution in the roadmap file?",
        "expected": "document",
        "predicted": "sql",
        "correct": false
      },
      {
        "query": "List recommendations from the uploaded report",
        "expected": "document",
        "predicted": "sql",
        "correct": false
      },
      {
        "query": "Explain what AAVIS score means and show top 5 districts",
        "expected": "hybrid",
        "predicted": "hybrid",
        "correct": true
      },
      {
        "query": "What factors contribute to high vulnerability? Show districts above 2.5",
        "expected": "hybrid",
        "predicted": "hybrid",
        "correct": true
      },
      {
        "query": "Compare AAVIS vs CAGI correlation and provide examples",
        "expected": "hybrid",
        "predicted": "hybrid",
        "correct": true
      }
    ],
    "confusion_matrix": {
      "sql": {
        "sql": 5,
        "document": 0,
        "hybrid": 0
      },
      "document": {
        "sql": 3,
        "document": 2,
        "hybrid": 0
      },
      "hybrid": {
        "sql": 0,
        "document": 0,
        "hybrid": 3
      }
    }
  },
  "multilingual_support": {
    "accuracy": 90.9090909090909,
    "correct": 10,
    "total": 11,
    "languages_tested": 9,
    "language_list": [
      "ar",
      "de",
      "en",
      "es",
      "fr",
      "hi",
      "ja",
      "ko",
      "pt"
    ],
    "detailed_results": [
      {
        "query": "How many employees work here?",
        "expected_language": "en",
        "detected_language": "en",
        "correct": true
      },
      {
        "query": "¿Cuántos empleados trabajan aquí?",
        "expected_language": "es",
        "detected_language": "es",
        "correct": true
      },
      {
        "query": "¿Cuál es el salario promedio?",
        "expected_language": "es",
        "detected_language": "es",
        "correct": true
      },
      {
        "query": "Combien d'employés travaillent ici?",
        "expected_language": "fr",
        "detected_language": "fr",
        "correct": true
      },
      {
        "query": "Quel est le salaire moyen?",
        "expected_language": "fr",
        "detected_language": "fr",
        "correct": true
      },
      {
        "query": "Wie viele Mitarbeiter arbeiten hier?",
        "expected_language": "de",
        "detected_language": "de",
        "correct": true
      },
      {
        "query": "यहाँ कितने कर्मचारी काम करते हैं?",
        "expected_language": "hi",
        "detected_language": "hi",
        "correct": true
      },
      {
        "query": "这里有多少员工?",
        "expected_language": "zh-cn",
        "detected_language": "ko",
        "correct": false
      },
      {
        "query": "ここで働いている従業員は何人ですか?",
        "expected_language": "ja",
        "detected_language": "ja",
        "correct": true
      },
      {
        "query": "كم عدد الموظفين الذين يعملون هنا؟",
        "expected_language": "ar",
        "detected_language": "ar",
        "correct": true
      },
      {
        "query": "Quantos funcionários trabalham aqui?",
        "expected_language": "pt",
        "detected_language": "pt",
        "correct": true
      }
    ]
  },
  "retrieval_performance": {
    "config": {
      "method": "hybrid_bm25_faiss_reranking",
      "initial_k": 10,
      "rerank_k": 3,
      "bm25_weight": 0.5,
      "faiss_weight": 0.5,
      "cross_encoder": "ms-marco-MiniLM-L-6-v2"
    },
    "stages": 3,
    "expected_precision": "~92%",
    "advantages": [
      "BM25 catches exact terms (IDs, acronyms)",
      "FAISS understands semantic meaning",
      "Cross-encoder provides precise reranking"
    ]
  },
  "performance_metrics": {
    "success_rate": 0.0,
    "average_response_time": 0.08960908651351929,
    "total_queries": 4,
    "detailed_results": [
      {
        "query": "How many employees are there?",
        "success": false,
        "routing": "unknown",
        "retrieval_method": "N/A",
        "response_time": 0.006894826889038086,
        "has_answer": false
      },
      {
        "query": "What is the average salary?",
        "success": false,
        "routing": "unknown",
        "retrieval_method": "N/A",
        "response_time": 0.0056743621826171875,
        "has_answer": false
      },
      {
        "query": "¿Cuántos empleados hay?",
        "success": false,
        "routing": "unknown",
        "retrieval_method": "N/A",
        "response_time": 0.22209644317626953,
        "has_answer": false
      },
      {
        "query": "Combien d'employés?",
        "success": false,
        "routing": "unknown",
        "retrieval_method": "N/A",
        "response_time": 0.12377071380615234,
        "has_answer": false
      }
    ]
  },
  "overall_scores": {
    "routing_accuracy": 76.92307692307693,
    "language_detection": 90.9090909090909,
    "success_rate": 0.0,
    "avg_response_time": 0.08960908651351929,
    "languages_supported": 9,
    "retrieval_method": "hybrid_bm25_faiss_reranking",
    "retrieval_stages": 3
  }
}